build:
  nodes:
    analysis:
      dependencies:
        before:
          - composer require twig/twig mindplay/annotations phpfastcache/phpfastcache monolog/monolog czproject/git-php phpmv/php-mv-ui
          - composer require codeception/codeception --dev 
      tests:
        override:
          - php-scrutinizer-run
          - command: ./vendor/bin/codecept build -c tests && ./vendor/bin/codecept run unit -c tests
filter:
    excluded_paths:
        - Ubiquity/log/
        - Ubiquity/controllers/Autoloader.php
        - Ubiquity/controllers/admin/
        - Ubiquity/annotations/
        - Ubiquity/js/Jquery.php
        - Ubiquity/utils/git/UGitRepository.php
        - docs/
        - api/
        - documentation/
checks:
    php:
        code_rating: true
        duplication: true
